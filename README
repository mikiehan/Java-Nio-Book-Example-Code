Source code from http://www.javanio.info/filearea/bookexamples/niosrc.jar